1Ô∏è‚É£ Contexto e Objetivo (sem c√≥digo)
1.1 Qual problema real estou resolvendo?

‚û°Ô∏è
O Focus AI resolve a dificuldade de aprendizado profundo em tecnologia, indo al√©m de respostas prontas.
O sistema ensina como pensar, usando metodologia socr√°tica para explicar:

a raiz do problema

o porqu√™ do problema

a solu√ß√£o

edge cases reais (ex: overflow do YouTube em 2014)

Al√©m disso, ajuda pessoas perdidas na √°rea de TI a se orientarem profissionalmente com roadmaps de carreira personalizados.

1.2 Quem √© o usu√°rio?

‚û°Ô∏è

Estudantes de Engenharia de Software, Computa√ß√£o e √°reas correlatas

Desenvolvedores j√∫nior

Pessoas em transi√ß√£o ou inseguras na carreira em TI

1.3 O que √© sucesso para esse projeto?

‚û°Ô∏è (m√©trica objetiva)

Usu√°rios conseguem realizar sess√µes completas sem travamentos

Lat√™ncia aceit√°vel durante gera√ß√£o de respostas

Coleta consistente de feedback dos usu√°rios

Sistema est√°vel sob carga moderada (MVP)

1.4 O que N√ÉO √© objetivo agora?

‚û°Ô∏è (escopo fora)

Hiperseguran√ßa (ex: gateways complexos como Kong)

M√∫ltiplos provedores de IA

Microservi√ßos distribu√≠dos

Otimiza√ß√µes extremas de custo

2Ô∏è‚É£ Dom√≠nio (DDD ‚Äì o cora√ß√£o do sistema)
2.1 Qual √© o dom√≠nio?

‚û°Ô∏è
Aprendizado t√©cnico profundo com metodologia socr√°tica

2.2 Quais conceitos t√™m identidade pr√≥pria?

‚û°Ô∏è (Entidades)

User

LearningSession

Question

Answer

Feedback

CareerProfile

2.3 Quais conceitos s√£o apenas valores?

‚û°Ô∏è (Value Objects)

Prompt

Explanation

EdgeCaseExample

CareerStage (J√∫nior, Pleno, S√™nior‚Ä¶)

DifficultyLevel

2.4 Qual √© o Aggregate Root?

‚û°Ô∏è

LearningSession

Tudo gira em torno da sess√£o de aprendizado:

Pergunta sem sess√£o ‚ùå

Resposta sem sess√£o ‚ùå

Feedback sem sess√£o ‚ùå

A sess√£o controla:

fluxo

custo

concorr√™ncia

consist√™ncia

2.5 Quais regras NUNCA podem ser quebradas?

‚û°Ô∏è (Invariantes do dom√≠nio)

Uma LearningSession sempre pertence a um User

Uma Answer sempre responde a uma Question

Feedback s√≥ pode existir ap√≥s uma Answer

Uma sess√£o n√£o pode gerar m√∫ltiplas respostas simult√¢neas

3Ô∏è‚É£ Casos de Uso (Application Layer)
3.1 Quais a√ß√µes o sistema permite?

‚û°Ô∏è (verbos no infinitivo)

Iniciar sess√£o de aprendizado

Enviar pergunta

Gerar explica√ß√£o socr√°tica

Explorar edge cases

Enviar feedback

Gerar roadmap de carreira

Consultar hist√≥rico de conversas

3.2 Qual √© o fluxo feliz?

‚û°Ô∏è (passo a passo)

Usu√°rio inicia uma LearningSession

Usu√°rio envia uma pergunta

Sistema valida a sess√£o

Sistema adquire lock da sess√£o

Sistema gera resposta via LLM

Sistema salva a resposta

Sistema libera o lock

Usu√°rio visualiza a resposta

Usu√°rio envia feedback

3.3 Quais fluxos de erro s√£o esperados?

‚û°Ô∏è

Sess√£o j√° est√° processando outra pergunta

Timeout da LLM

Erro externo de IA

Prompt inv√°lido

Excesso de tokens

Usu√°rio tenta pular etapas

3.4 O que √© s√≠ncrono e o que pode ser ass√≠ncrono?

‚û°Ô∏è

S√≠ncrono

Enviar pergunta

Gerar resposta socr√°tica

Ass√≠ncrono

Persist√™ncia de logs

Coleta de m√©tricas

Armazenamento de feedback

Analytics

4Ô∏è‚É£ Fronteiras do Sistema (Ports & Adapters)
4.1 O que meu dom√≠nio N√ÉO controla?

‚û°Ô∏è

Provedor de LLM

Banco de dados

Cache

Filas

Infraestrutura

4.2 Quais portas eu preciso?

‚û°Ô∏è

LearningSessionRepository

UserRepository

LLMService

FeedbackRepository

LockProvider

4.3 O que pode mudar sem quebrar o dom√≠nio?

‚û°Ô∏è

Banco de dados

Cache

Provedor de IA

Framework web

Infraestrutura

5Ô∏è‚É£ Performance e Custo (antes da infra)
5.1 Onde est√° o recurso caro?

‚û°Ô∏è

LLM (tokens + lat√™ncia)

5.2 Onde posso cachear?

‚û°Ô∏è

Edge cases comuns

Roadmaps de carreira por perfil

Respostas idempotentes por sess√£o

5.3 O que N√ÉO posso executar em paralelo?

‚û°Ô∏è

Gera√ß√£o de resposta dentro da mesma LearningSession

5.4 Qual √© o pior cen√°rio?

‚û°Ô∏è

Pico de usu√°rios simult√¢neos

Ataque de spam de perguntas

Falha total do provedor de LLM

6Ô∏è‚É£ Concorr√™ncia e Consist√™ncia
6.1 O que acontece se 100 usu√°rios fizerem isso ao mesmo tempo?

‚û°Ô∏è

Sess√µes independentes funcionam normalmente

Cada sess√£o mant√©m seu pr√≥prio lock

Sistema degrada por lat√™ncia, n√£o por inconsist√™ncia

6.2 Onde preciso de lock?

‚û°Ô∏è

Por LearningSession.id

Durante a gera√ß√£o da resposta

6.3 O sistema tolera duplica√ß√£o?

‚û°Ô∏è

Sim: logs, m√©tricas

N√£o: gera√ß√£o de resposta por sess√£o

7Ô∏è‚É£ Dados e Persist√™ncia
7.1 O que precisa ser persistido?

‚û°Ô∏è

User

LearningSession

Question

Answer

Feedback

7.2 O que pode ser descart√°vel?

‚û°Ô∏è

Cache

Locks

Prompts tempor√°rios

Dados de observabilidade

7.3 Leitura e escrita s√£o iguais?

‚û°Ô∏è

N√£o

Escrita √© mais cara

Leitura pode ser otimizada (CQRS leve no futuro)

8Ô∏è‚É£ Erros e Falhas
8.1 O que pode falhar?

‚û°Ô∏è

LLM

Banco de dados

Rede

Cache

8.2 Como o sistema se recupera?

‚û°Ô∏è

Retry controlado

Fallback para mensagem educacional

Degrada√ß√£o graciosa

8.3 O que o usu√°rio v√™ quando d√° errado?

‚û°Ô∏è

Mensagem clara

Sem stack trace

Orienta√ß√£o de retry

9Ô∏è‚É£ Observabilidade (desde o MVP)
9.1 O que preciso medir?

‚û°Ô∏è

Lat√™ncia por resposta

Erros da LLM

Custo por sess√£o

Sess√µes ativas

9.2 Onde coloco logs?

‚û°Ô∏è

Entrada de requisi√ß√£o

Sa√≠da da LLM

Erros

Locks

9.3 Como saberei que est√° lento?

‚û°Ô∏è

Tempo m√©dio de resposta por sess√£o

Percentil 95 de lat√™ncia

üîü Evolu√ß√£o (futuro sem dor)
10.1 O que provavelmente vai mudar?

‚û°Ô∏è

Volume de usu√°rios

Estrat√©gia de cache

Provedor de IA

10.2 O que N√ÉO quero refatorar depois?

‚û°Ô∏è

Dom√≠nio

LearningSession

Invariantes

10.3 Qual √© o limite do MVP?

‚û°Ô∏è

Centenas de usu√°rios simult√¢neos

Custo mensal controlado

Uma √∫nica LLM

üèÅ Checklist Final

 Problema entendido sem falar de tecnologia

 Dom√≠nio definido

 Entidades claras

 Casos de uso expl√≠citos

 Gargalos conhecidos

 Estrat√©gia de cache definida

 Estrat√©gia de concorr√™ncia definida

 Limite do MVP definido

Frase para lembrar:
‚ÄúArquitetura n√£o √© sobre escolher ferramentas, √© sobre adiar decis√µes caras.‚Äù

Se quiser, pr√≥ximo passo natural:

üìê transformar isso em diagrama DDD / C4

üß± mapear direto para Clean Architecture

üß™ gerar testes de dom√≠nio a partir das invariantes

üöÄ definir arquitetura MVP m√≠nima